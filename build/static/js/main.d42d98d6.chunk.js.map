{"version":3,"sources":["components/Search.js","components/PersonForm.js","components/Persons.js","services/Persons.js","components/Notification.js","App.js","index.js"],"names":["Search","_ref","onChange","react_default","a","createElement","PersonForm","onSubmit","handleNameChange","handleNumberChange","newName","newNumber","value","type","Persons","persons","deletePerson","map","person","key","name","number","onClick","id","services_Persons","axios","get","then","response","data","newObject","post","put","concat","Notification","message","code","className","msg","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setMessage","useEffect","personServices","intiialPersons","components_Notification","components_Search","event","searchTerm","target","matchedContacts","filter","toLowerCase","match","components_PersonForm","preventDefault","find","window","confirm","_persons$filter","changedPerson","objectSpread","setTimeout","catch","components_Persons","personName","per","url","changedPersons","delete","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.d42d98d6.chunk.js","sourcesContent":["import React from 'react';\n\nconst Search = ({ onChange }) => <input onChange={onChange} />\n\nexport default Search;","import React from \"react\";\n\nconst PersonForm = ({ onSubmit, handleNameChange, handleNumberChange, newName, newNumber }) => {\n  return (\n    <form onSubmit={onSubmit}>\n      <div>\n        Name: <input onChange={handleNameChange} value={newName} /><br />\n        Number: <input onChange={handleNumberChange} value={newNumber} />\n      </div>\n      <div>\n        <button type='submit'>Add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm;","import React from 'react';\n\nconst Persons = ({ persons, deletePerson }) => persons.map((person =>\n  <p key={person.name}>\n    {person.name} {person.number}\n    <button onClick={() => deletePerson(person.id)}>Delete</button>\n  </p>))\n\nexport default Persons;","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nexport default { getAll, create, update }","import React from 'react';\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  if (message.code === 1) {\n    return (\n      <div className='successful'>\n        {message.msg}\n      </div>\n    )\n  } else {\n    return (\n      <div className='error'>\n        {message.msg}\n      </div>\n    )\n  }\n}\n\nexport default Notification;","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Search from './components/Search';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport personServices from './services/Persons';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n    personServices\n      .getAll()\n      .then(intiialPersons => setPersons(intiialPersons))\n  }, [])\n\n  const addNewContact = (event) => {\n    event.preventDefault()\n    const nameExits = persons.find((person) => person.name === newName)\n\n    if (nameExits) {\n      const updateConfirmation =\n        window.confirm(`${newName} is already added to the phonebook, replace the old number with the new one?`)\n      if (updateConfirmation) {\n        const [person] = persons.filter(person => person.name === newName)\n        const id = person.id\n        const changedPerson = { ...person, number: newNumber }\n\n        personServices\n          .update(id, changedPerson)\n          .then(response => {\n            setPersons(persons.map(person => person.id !== id ? person : response.data))\n            setMessage({ msg: `Updated ${newName}`, code: 1 })\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n          .catch(() => {\n            setMessage({ msg: `${newName} is already deleted from server`, code: 0 })\n          })\n      }\n    } else {\n      const newContact = {\n        name: newName,\n        number: newNumber\n      }\n\n      personServices\n        .create(newContact).then(response => {\n          setPersons(persons.concat(response.data))\n          setMessage({ msg: `${newName} Added`, code: 1 })\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n          setNewName('')\n          setNewNumber('')\n        })\n    }\n  }\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n  const handleSearchChange = (event) => {\n    const searchTerm = event.target.value\n    const matchedContacts = persons.filter((person) => person.name.toLowerCase().match(searchTerm))\n    setPersons(matchedContacts)\n  }\n\n  const deletePerson = id => {\n    const personName = persons.find(per => per.id === id)\n    const deleteConfirmation = window.confirm(`Are you sure you want to delete ${personName.name}`)\n\n    if (deleteConfirmation) {\n      const url = `/api/persons/${id}`\n      const changedPersons = persons.filter(per => per.id !== id)\n      axios\n        .delete(url)\n        .then(() => {\n          setPersons(changedPersons)\n          setMessage({ msg: `Deleted ${personName.name}`, code: 1 })\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch(() => {\n          setMessage({ msg: `${personName.name} is already deleted from server`, code: 0 })\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n\n      <Notification message={message} />\n\n      <Search onChange={handleSearchChange} />\n\n      <h2>Add new Contact</h2>\n\n      <PersonForm\n        onSubmit={addNewContact}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        newName={newName}\n        newNumber={newNumber}\n      />\n\n      <h2>Numbers</h2>\n\n      <Persons persons={persons} deletePerson={deletePerson} />\n\n      <div>name: {newName}</div>\n      <div>number: {newNumber}</div>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}