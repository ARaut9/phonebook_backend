{"version":3,"sources":["components/Search.js","components/PersonForm.js","components/Persons.js","services/Persons.js","components/Notification.js","App.js","index.js"],"names":["Search","_ref","onChange","react_default","a","createElement","PersonForm","onSubmit","handleNameChange","handleNumberChange","newName","newNumber","value","type","Persons","persons","deletePerson","map","person","key","name","number","onClick","id","baseUrl","services_Persons","axios","get","then","response","data","newObject","post","put","concat","delete","Notification","message","code","className","msg","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setMessage","useEffect","personServices","intiialPersons","components_Notification","components_Search","event","searchTerm","target","matchedContacts","filter","toLowerCase","match","components_PersonForm","preventDefault","find","window","confirm","_persons$filter","changedPerson","objectSpread","setTimeout","catch","error","components_Persons","personName","per","changedPersons","console","log","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.01eabf64.chunk.js","sourcesContent":["import React from 'react';\n\nconst Search = ({ onChange }) => <input onChange={onChange} />\n\nexport default Search;","import React from \"react\";\n\nconst PersonForm = ({ onSubmit, handleNameChange, handleNumberChange, newName, newNumber }) => {\n  return (\n    <form onSubmit={onSubmit}>\n      <div>\n        Name: <input onChange={handleNameChange} value={newName} /><br />\n        Number: <input onChange={handleNumberChange} value={newNumber} />\n      </div>\n      <div>\n        <button type='submit'>Add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm;","import React from 'react';\n\nconst Persons = ({ persons, deletePerson }) => persons.map((person =>\n  <p key={person.name}>\n    {person.name} {person.number}\n    <button onClick={() => deletePerson(person.id)}>Delete</button>\n  </p>))\n\nexport default Persons;","import axios from 'axios';\nconst baseUrl = 'api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst remove = id => axios.delete(`${baseUrl}/${id}`)\n\nexport default { getAll, create, update, remove }","import React from 'react';\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  if (message.code === 1) {\n    return (\n      <div className='successful'>\n        {message.msg}\n      </div>\n    )\n  } else {\n    return (\n      <div className='error'>\n        {message.msg}\n      </div>\n    )\n  }\n}\n\nexport default Notification;","import React, { useState, useEffect } from 'react';\nimport Search from './components/Search';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport personServices from './services/Persons';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n    personServices\n      .getAll()\n      .then(intiialPersons => setPersons(intiialPersons))\n  }, [])\n\n  const addNewContact = (event) => {\n    event.preventDefault()\n    const nameExits = persons.find((person) => person.name === newName)\n\n    if (nameExits) {\n      const updateConfirmation =\n        window.confirm(`${newName} is already added to the phonebook, replace the old number with the new one?`)\n      if (updateConfirmation) {\n        const [person] = persons.filter(person => person.name === newName)\n        const id = person.id\n        const changedPerson = { ...person, number: newNumber }\n\n        personServices\n          .update(id, changedPerson)\n          .then(response => {\n            setPersons(persons.map(person => person.id !== id ? person : response.data))\n            setMessage({ msg: `Updated ${newName}`, code: 1 })\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(() => {\n            setMessage({ msg: `${newName} is already deleted from server`, code: 0 })\n          })\n      }\n    } else {\n      const newContact = {\n        name: newName,\n        number: newNumber\n      }\n\n      personServices\n        .create(newContact)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setMessage({ msg: `${newName} Added`, code: 1 })\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          setMessage({ msg: error.response.data.error, code: 0 })\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n          setNewName('')\n          setNewNumber('')\n        })\n    }\n  }\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n  const handleSearchChange = (event) => {\n    const searchTerm = event.target.value\n    const matchedContacts = persons.filter((person) => person.name.toLowerCase().match(searchTerm))\n    setPersons(matchedContacts)\n  }\n\n  const deletePerson = id => {\n    const personName = persons.find(per => per.id === id)\n    const deleteConfirmation = window.confirm(`Are you sure you want to delete ${personName.name}`)\n\n    if (deleteConfirmation) {\n      personServices\n        .remove(id)\n        .then(() => {\n          const changedPersons = persons.filter(per => per.id !== id)\n          setPersons(changedPersons)\n          setMessage({ msg: `Deleted ${personName.name}`, code: 1 })\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch((error) => {\n          console.log(error)\n          setMessage({ msg: `${personName.name} is already deleted from server`, code: 0 })\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n\n      <Notification message={message} />\n\n      <Search onChange={handleSearchChange} />\n\n      <h2>Add new Contact</h2>\n\n      <PersonForm\n        onSubmit={addNewContact}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        newName={newName}\n        newNumber={newNumber}\n      />\n\n      <h2>Numbers</h2>\n\n      <Persons persons={persons} deletePerson={deletePerson} />\n\n      <div>name: {newName}</div>\n      <div>number: {newNumber}</div>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}